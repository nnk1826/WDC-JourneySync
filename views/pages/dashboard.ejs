<%- include('../partials/header') %>
<section class="background-img">
    <!-- Hero Section -->
    <section id="hero" class="hero">
        <div class="container">
            <h1>Plan Your Perfect Journey</h1>
            <p>Create unforgettable itineraries by finding amazing places and hotels with just one click.</p>
            <a href="#search-form" class="btn btn-primary">Start Planning</a>
        </div>
    </section>

    <!-- Search Form -->
    <div class="container">
        <div class="search-form search-back">
            <h2>Find Your Next Adventure</h2>
            <form>
                <div class="form-row">
                    <div class="form-group">
                        <label for="destination">Destination</label>
                        <input type="text" id="destination" placeholder="Where do you want to go?">
                    </div>
                    <div class="form-group">
                        <label for="check-in">Check In</label>
                        <input type="date" id="check-in">
                    </div>
                    <div class="form-group">
                        <label for="check-out">Check Out</label>
                        <input type="date" id="check-out">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="guests">Guests</label>
                        <select id="guests">
                            <option value="1">1 Guest</option>
                            <option value="2">2 Guests</option>
                            <option value="3">3 Guests</option>
                            <option value="4">4 Guests</option>
                            <option value="5+">5+ Guests</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="rooms">Rooms</label>
                        <select id="rooms">
                            <option value="1">1 Room</option>
                            <option value="2">2 Rooms</option>
                            <option value="3">3 Rooms</option>
                            <option value="4+">4+ Rooms</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Â </label>
                        <button type="submit" class="search-btn">Search</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</section>

<!-- Popular Destinations -->
<section id="destinations" class="destinations">
    <div class="container">
        <div class="section-header">
            <h2>Popular Destinations</h2>
            <p>Explore top-rated places loved by travelers around the world.</p>
        </div>
        <div class="destinations-grid">
            <div class="destination-card" data-destination="Paris, France">
                <img src="../images/Paris.jpg" alt="Paris" class="destination-img">
                <div class="destination-content">
                    <h3>Paris, France</h3>
                    <p>Experience the city of lights with its iconic landmarks and romantic atmosphere.</p>
                    <div class="destination-footer">
                        <div class="destination-price">From $799</div>
                        <button class="explore-btn">Explore</button>
                    </div>
                </div>
            </div>
            <div class="destination-card" data-destination="Bali, Indonesia">
                <img src="../images/Bali.jpg" alt="Bali" class="destination-img">
                <div class="destination-content">
                    <h3>Bali, Indonesia</h3>
                    <p>Discover tropical paradise with stunning beaches and rich cultural heritage.</p>
                    <div class="destination-footer">
                        <div class="destination-price">From $649</div>
                        <button class="explore-btn">Explore</button>
                    </div>
                </div>
            </div>
            <div class="destination-card" data-destination="Tokyo, Japan">
                <img src="../images/tokyo.jpg" alt="Tokyo" class="destination-img">
                <div class="destination-content">
                    <h3>Tokyo, Japan</h3>
                    <p>Immerse yourself in a blend of traditional culture and futuristic technology.</p>
                    <div class="destination-footer">
                        <div class="destination-price">From $899</div>
                        <button class="explore-btn">Explore</button>
                    </div>
                </div>
            </div>
            <div class="destination-card" data-destination="New York, USA">
                <img src="../images/ny.jpg" alt="New York" class="destination-img">
                <div class="destination-content">
                    <h3>New York, USA</h3>
                    <p>Experience the vibrant energy of the city that never sleeps.</p>
                    <div class="destination-footer">
                        <div class="destination-price">From $749</div>
                        <button class="explore-btn">Explore</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Interactive Map -->
        <div id="destinations-map" style="height: 400px; margin-top: 40px; width: 100%; border-radius: 8px;"></div>
    </div>
</section>

<!-- Google Maps JavaScript API -->
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyATnmEvN5ZE5hdBZhxeiooUwdzj3JCz58U&callback=initMap"></script>

<!-- Script for Google Maps integration -->
<script>
    function initMap() {
        // Initialize interactive map
        const map = new google.maps.Map(document.getElementById('destinations-map'), {
            zoom: 2,
            center: { lat: 0, lng: 0 },
            zoomControl: true,
            mapTypeControl: true,
            streetViewControl: false,
            fullscreenControl: true
        });

        const destinations = [
            { 
                name: 'Paris, France', 
                position: { lat: 48.8566, lng: 2.3522 },
                description: 'Experience the city of lights with its iconic landmarks.'
            },
            { 
                name: 'Bali, Indonesia', 
                position: { lat: -8.3405, lng: 115.0920 },
                description: 'Discover tropical paradise with stunning beaches.'
            },
            { 
                name: 'Tokyo, Japan', 
                position: { lat: 35.6762, lng: 139.6503 },
                description: 'A blend of traditional culture and futuristic technology.'
            },
            { 
                name: 'New York, USA', 
                position: { lat: 40.7128, lng: -74.0060 },
                description: 'The vibrant energy of the city that never sleeps.'
            }
        ];

        destinations.forEach(destination => {
            const marker = new google.maps.Marker({
                position: destination.position,
                map: map,
                title: destination.name,
                animation: google.maps.Animation.DROP
            });

            const infoWindow = new google.maps.InfoWindow({
                content: `
                    <div style="max-width: 200px;">
                        <h3>${destination.name}</h3>
                        <p>${destination.description}</p>
                        <a href="#search-form" style="color: #1a73e8;">Plan Your Trip</a>
                    </div>
                `
            });

            marker.addListener('click', () => {
                infoWindow.open(map, marker);
                map.panTo(destination.position);
            });

            // Pan to marker when clicking Explore button
            const card = document.querySelector(`.destination-card[data-destination="${destination.name}"] .explore-btn`);
            if (card) {
                card.addEventListener('click', () => {
                    map.panTo(destination.position);
                    map.setZoom(10);
                    infoWindow.open(map, marker);
                });
            }
        });
    }
</script>

<!-- Features Section -->
<section id="features" class="features">
    <div class="container">
        <div class="section-header">
            <h2>Why Choose JourneySync</h2>
            <p>We offer an unforgettable experience to plan, customize, and manage your entire tour in just few clicks.</p>
        </div>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-hotel"></i>
                </div>
                <h3>Find Perfect Hotels</h3>
                <p>Compare hotels based on current status, filter by preferences, and book directly through our platform.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-map-marked-alt"></i>
                </div>
                <h3>Interactive Maps</h3>
                <p>Visualize your entire trip on interactive maps to optimize routes and discover nearby attractions.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-calendar-alt"></i>
                </div>
                <h3>Day-by-Day Planning</h3>
                <p>Create detailed daily itineraries including activities, transportation, and accommodations.</p>
            </div>
        </div>
    </div>
</section>

<!-- How It Works -->
<section id="how-it-works" class="how-it-works">
    <div class="container">
        <div class="section-header">
            <h2>How JourneySync Works</h2>
            <p>Planning your perfect trip is easy with our simple three-step process.</p>
        </div>
        <div class="steps">
            <div class="step">
                <div class="step-number">1</div>
                <h3>Search & Compare</h3>
                <p>Find destinations and compare hotels based on your preferences, budget, and travel dates.</p>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <h3>Create Itinerary</h3>
                <p>Build a day-by-day travel plan with destinations, activities, transportation, and accommodations.</p>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <h3>Book & Enjoy</h3>
                <p>Secure your bookings directly through our platform and enjoy your trip.</p>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials -->
<section id="testimonials" class="testimonials">
    <div class="container">
        <div class="section-header">
            <h2>What Our Travelers Say</h2>
            <p>Discover why travelers love using JourneySync for their adventures.</p>
        </div>
        <div class="testimonials-slider">
            <div class="testimonial">
                <p class="testimonial-text">"JourneySync made planning our family trip to Australia so much easier! The interactive maps, day-by-day planning features, and recommendations saved our hours of research."</p>
                <div class="testimonial-author">
                    <img src="/api/placeholder/50/50" alt="Joe" class="author-img">
                    <div class="author-info">
                        <h4>Joe Root</h4>
                        <p>Family Traveler</p>
                        <div class="rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="testimonial">
                <p class="testimonial-text">"As a digital nomad, I completely rely on JourneySync to plan my workations since its comparison tool helps me find places with great WiFi, workspaces, and other facilities!"</p>
                <div class="testimonial-author">
                    <img src="/api/placeholder/50/50" alt="Mark" class="author-img">
                    <div class="author-info">
                        <h4>Mark Salt</h4>
                        <p>Nomad</p>
                        <div class="rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- Script for handling dynamic behavior -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Set minimum date for date inputs to today
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('check-in').setAttribute('min', today);
        document.getElementById('check-out').setAttribute('min', today);
        
        // Set default dates (today and tomorrow)
        const tomorrow = new Date();
        tomorrow.setDate(tomorrow.getDate() + 1);
        const tomorrowStr = tomorrow.toISOString().split('T')[0];
        
        document.getElementById('check-in').value = today;
        document.getElementById('check-out').value = tomorrowStr;
        
        // Ensure check-out is always after check-in
        document.getElementById('check-in').addEventListener('change', function() {
            const checkInDate = new Date(this.value);
            const checkOutDate = new Date(document.getElementById('check-out').value);
            
            if (checkOutDate <= checkInDate) {
                const nextDay = new Date(checkInDate);
                nextDay.setDate(nextDay.getDate() + 1);
                document.getElementById('check-out').value = nextDay.toISOString().split('T')[0];
            }
            
            document.getElementById('check-out').setAttribute('min', this.value);
        });

        // Mobile menu toggle
        const mobileMenuBtn = document.querySelector('.mobile-menu');
        const navLinks = document.querySelector('.nav-links');
        
        if (mobileMenuBtn) {
            mobileMenuBtn.addEventListener('click', function() {
                navLinks.style.display = navLinks.style.display === 'flex' ? 'none' : 'flex';
            });
        }
        
        // Add active class to nav links based on scroll position
        const sections = document.querySelectorAll('section[id]');
        const navItems = document.querySelectorAll('.nav-links a');
        
        function highlightNavItem() {
            const scrollPosition = window.scrollY;
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                const sectionHeight = section.offsetHeight;
                const sectionId = section.getAttribute('id');
                
                if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                    navItems.forEach(item => {
                        item.classList.remove('active');
                        if (item.getAttribute('href') === '#' + sectionId) {
                            item.classList.add('active');
                        }
                    });
                }
            });
        }
        
        window.addEventListener('scroll', highlightNavItem);
        highlightNavItem(); // Run once on page load
    });
</script>
<%- include('../partials/footer') %>